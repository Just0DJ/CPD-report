<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=1280" />
<title>Tech Mahindra CPD MATLAB REPORT</title>
<style>
  :root {
    --bg: #0f0f12;
    --panel: #17171b;
    --text: #e9e9ef;
    --muted: #a7a7b2;
    --card: #1e1e24;
    --accent: #e63946; /* RED ACCENT */
    --accent-weak: #ff6b6b22;
    --ring: #ffffff10;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 18px;
  }
  :root.light {
    --bg:#f6f7fb;
    --panel:#ffffff;
    --text:#181920;
    --muted:#60606a;
    --card:#ffffff;
    --accent:#d62828;
    --accent-weak:#d6282820;
    --ring:#00000014;
    --shadow: 0 10px 26px rgba(0,0,0,.08);
  }
  * { box-sizing: border-box; }
  html, body {
    height:100%;
    background: var(--bg);
    color: var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  }
  .wrap {
    max-width: 1220px;
    margin: 28px auto;
    padding: 16px;
  }
  .shell {
    display: grid;
    grid-template-columns: 220px 1fr 320px;
    gap: 18px;
  }
  .pane {
    background: var(--panel);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    border: 1px solid var(--ring);
  }
  /* Left sidebar */
  .side {
    padding: 18px 14px;
  }
  .logo {
    font-weight: 800; letter-spacing: .6px; font-size: 20px;
    display:flex; align-items:center; gap:8px; margin-bottom: 18px;
  }
  .pill {
    display: inline-flex; align-items: center; gap: 10px;
    padding: 10px 12px;
    border-radius: 12px;
    background: var(--card);
    border: 1px solid var(--ring);
    margin-bottom: 10px;
    cursor: default;
  }
  .btn {
    background: var(--accent);
    color: #fff;
    border: 0;
    padding: 10px 14px;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: transform .04s ease, filter .2s ease;
    box-shadow: 0 6px 16px var(--accent-weak);
  }
  .btn:active { transform: translateY(1px) scale(.997); }
  .btn.ghost {
    background: transparent; color: var(--text);
    border: 1px solid var(--ring);
    box-shadow: none;
  }
  .row { display:flex; align-items:center; gap:10px; }
  .toolbar { display:flex; gap:10px; margin-top: 10px; flex-wrap: wrap; }
  .search { background: var(--card); border:1px solid var(--ring); padding: 10px 12px; border-radius: 12px; width: 100%; }
  .grid {
    display: grid;
    grid-template-columns: 1fr 330px;
    gap: 18px;
    padding: 18px;
  }
  .card {
    background: var(--card);
    border: 1px solid var(--ring);
    border-radius: var(--radius);
    padding: 16px;
  }
  .h {
    font-size: 18px; font-weight: 700; margin-bottom: 10px;
  }
  .muted { color: var(--muted); font-size: 13px; }
  .kpis {
    display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;
  }
  .kpi { padding: 12px; border-radius: 14px; background: linear-gradient(180deg, var(--accent-weak), transparent); border: 1px dashed var(--accent); }
  .chip { font-size: 12px; padding: 6px 10px; border-radius: 999px; border:1px solid var(--ring); background: var(--panel); display:inline-block; }
  .list { display:grid; gap:10px; }
  .columns { display:flex; gap:10px; flex-wrap: wrap; }
  .columns label {
    display:flex; align-items:center; gap:8px; border:1px solid var(--ring); background: var(--panel);
    padding: 8px 10px; border-radius: 10px; cursor:pointer;
  }
  input[type="file"], input[type="text"], input[type="number"] {
    background: var(--panel); border:1px solid var(--ring); color: var(--text); padding: 10px 12px; border-radius: 10px;
  }
  .plot {
    width: 100%; aspect-ratio: 16/9; background: #0b0b0d; border:1px dashed var(--ring); border-radius: 14px; display:grid; place-items:center; overflow:hidden;
  }
  .plot img { width: 100%; height: 100%; object-fit: contain; }
  .right { padding: 18px; display: grid; gap: 18px; }
  .stat-table { width: 100%; border-collapse: collapse; font-size: 13px; }
  .stat-table th, .stat-table td { border:1px solid var(--ring); padding: 6px 8px; }
  .manual { display:none; }
  .tag { font-weight:700; color: var(--accent) }
</style>
</head>
<body>
  <div class="wrap">
    <div class="shell">
      <!-- Left Sidebar -->
      <aside class="pane side">
        <div class="logo">
          <span class="tag">●</span> Tech Mahindra
        </div>
        <div class="pill">CPD REPORT</div>
        <div class="toolbar">
          <button class="btn" onclick="toggleTheme()">Toggle Theme</button>
          <button class="btn ghost" onclick="toggleManualEntry()">Manual Entry</button>
        </div>
        <div style="margin-top:14px">
          <input id="fileInput" type="file" accept=".csv,.xlsx,.xls" />
          <div class="toolbar">
            <button class="btn" onclick="handleFileUpload()">Upload</button>
            <button class="btn ghost" onclick="trySampleData()">Try Sample Data</button>
          </div>
        </div>

        <div id="manualBox" class="manual" style="margin-top:14px">
          <div class="muted">Manual rows (CSV style):</div>
          <textarea id="manualText" rows="6" style="width:100%; background:var(--panel); color:var(--text); border:1px solid var(--ring); border-radius:10px; padding:10px" placeholder="Date,Steps,Jogging_Min,Cycling_Min,Calories&#10;2024-04-01,9000,15,20,2200"></textarea>
          <div class="toolbar">
            <button class="btn" onclick="submitManual()">Load Manual Data</button>
          </div>
        </div>
      </aside>

      <!-- Middle Content -->
      <main class="pane">
        <div class="grid">
          <section class="card">
            <div class="h">Overview</div>
            <div class="muted">Select columns and plot</div>
            <div class="columns" id="columnsBox"></div>
            <div class="toolbar" style="margin-top:10px">
              <button class="btn" onclick="generatePlot()">Generate Plot</button>
              <button class="btn ghost" onclick="downloadPlot()">Download Plot</button>
            </div>
            <div class="plot" id="plotBox"><div class="muted">No plot yet</div></div>
          </section>

          <section class="card">
            <div class="h">Actions</div>
            <div class="list">
              <div class="row">
                <button class="btn" onclick="runAnalysis()">Run Analysis</button>
                <span class="muted">basic stats</span>
              </div>
              <div class="row">
                <span class="chip" id="dataState">No data</span>
              </div>
            </div>
          </section>

          <section class="card" style="grid-column: 1 / span 2;">
            <div class="h">Stats</div>
            <div id="statsBox" class="muted">Load data and click <b>Run Analysis</b>.</div>
          </section>
        </div>
      </main>

      <!-- Right Pane -->
      <aside class="pane right">
        <section class="card">
          <div class="h">Search</div>
          <input class="search" placeholder="Search (dummy)" />
        </section>
        <section class="card">
          <div class="h">Tips</div>
          <div class="list">
            <div class="muted">• Use <span class="tag">Try Sample Data</span> to explore.</div>
            <div class="muted">• Toggle <span class="tag">Manual Entry</span> for quick paste.</div>
            <div class="muted">• Download plots after generation.</div>
          </div>
        </section>
      </aside>
    </div>
  </div>

<script src="/static/app.js"></script>
</body>
</html>

